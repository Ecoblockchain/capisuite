<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>answering_machine.conf</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /><link rel="home" href="index.html" title="CapiSuite 0.5.git" /><link rel="up" href="ch01s03.html#script_config" title="Script configuration" /><link rel="prev" href="re03.html" title="fax.conf" /><link rel="next" href="ch01s04.html" title="Using CapiSuite together with the default scripts" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">answering_machine.conf</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="re03.html">Prev</a> </td><th width="60%" align="center">Script configuration</th><td width="20%" align="right"> <a accesskey="n" href="ch01s04.html">Next</a></td></tr></table><hr /></div><div class="refentry" title="answering_machine.conf"><a id="answering_machine.conf"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>answering_machine.conf — configuration of <span class="application">CapiSuite</span> answering machine</p></div><div class="refsect1" title="Description"><a id="id2508594"></a><h2>Description</h2><p>This file holds all available config options for the answering
				machine provided by the default scripts distributed with <span class="application">CapiSuite</span>. It is read
				from <code class="filename">/etc/capisuite/answering_machine.conf</code>
				or <code class="filename">/usr/local/etc/capisuite/answering_machine.conf</code> (depending on the installation).</p><p>It is divided into one or more sections. A section begins with the section
				name in square brackets like <code class="literal">[section]</code> while the options are <code class="literal">key="value"</code> lines.</p><p>A special section called <code class="literal">[GLOBAL]</code> and one section
				for each user called <code class="literal">[&lt;username&gt;]</code> are required.
				<span class="emphasis"><em>The <code class="literal">&lt;username&gt;</code> must be a valid system user</em></span>.</p><p>The <code class="literal">[GLOBAL]</code>-section defines some global options like
				pathnames and default settings for options that can be overridden in the user-sections.
				The user-sections hold all the options which belong to a particular user.</p></div><div class="refsect1" title="The [GLOBAL] section"><a id="id2508682"></a><h2>The [GLOBAL] section</h2><div class="variablelist"><dl><dt><a id="voice_audio_dir"></a><span class="term"><code class="option">audio_dir="/path/to/audiodir/"</code></span></dt><dd><p>The answering machine script uses several wave files, for example
						a global announcement if the user hasn't set his own and some spoken word fragments
						for the remote inquiry and the menu presented there. These audio files are searched
						in this directory. If user_audio_files is enabled (see <code class="option">user_audio_files</code>), each user can also
						provide his own audio snippets in his user_dir (see <code class="option">voice_user_dir</code>).</p><p>This option is mandatory.</p></dd><dt><a id="voice_user_dir"></a><span class="term"><code class="option">voice_user_dir="/path/to/userdir/"</code></span></dt><dd><p>This directory is used to save user specific data to. It must exist and
						the user <span class="application">CapiSuite</span> runs as must have write permission to it. It will contain
						one subdirectory for each configured user (named like his userid). The
						following subdirectories are used below the user-specific dir:</p><div class="variablelist"><dl><dt><span class="term"><code class="filename">user_dir/username/</code></span></dt><dd><p>Here the user may provide his own audio_files
								(see also option <code class="option">user_audio_files</code> below).
								The user defined announcement is also saved here.</p></dd><dt><span class="term"><code class="filename">user_dir/username/received/</code></span></dt><dd><p>Received voice calls are saved here.</p></dd></dl></div><p>This option is mandatory.</p></dd><dt><a id="voice_user_audio_files"></a><span class="term"><code class="option">user_audio_files="0"</code></span></dt><dd><p>If set to <code class="literal">1</code>, each user may provide his own audio files
							in his user directory (see <code class="option">voice_user_dir</code>). If set to <code class="literal">0</code>,
							only the audio_dir (see <code class="option">voice_audio_dir</code>) will be searched.
						</p><p>This option is optional. If not set, it defaults to not reading own user audio files (0).</p></dd><dt><a id="voice_delay"></a><span class="term"><code class="option">voice_delay="15"</code></span></dt><dd><p>Sets the default value for the delay for accepting an incoming
						call in (in seconds). A value of <code class="literal">10</code> means that the answering
						machine accepts incoming calls 10 seconds after the incoming connection request.
						This value can be overwritten in the user sections individually.</p><p>This option is mandatory.</p></dd><dt><a id="voice_announcement"></a><span class="term"><code class="option">announcement="announcement.la"</code></span></dt><dd><p>Sets the default name to use for user announcements.
						The announcements are searched in <code class="filename">user_dir/username/announcement</code>
						then. If not found, a global announcement containing the called MSN will be played.
						This value can be overwritten in the user sections individually.</p><p>This option is optional. If not set, it defaults to "announcement.la".</p></dd><dt><a id="voice_record_length"></a><span class="term"><code class="option">record_length="60"</code></span></dt><dd><p>Default setting for the maximum record length in seconds. This value can
						be overwritten in the user sections individually.</p><p>This option is optional. If not set, it defaults to 60 seconds.</p></dd><dt><a id="voice_record_silence_timeout"></a><span class="term"><code class="option">record_silence_timeout="5"</code></span></dt><dd><p>Default setting for the record silence timeout in seconds. When set to a value
						greater than 0, the recording will be aborted if silence is detected for the given
						amount of seconds. Set this to 0 to disable it. This value can
						be overwritten in the user sections individually.</p><p>This option is optional. If not set, it defaults to 5 seconds.</p></dd><dt><a id="voice_email_from"></a><span class="term"><code class="option">voice_email_from="&lt;mailaddress&gt;"</code></span></dt><dd><p>You can set a default originator ("From"-address) for the e-mails <span class="application">CapiSuite</span> sends
						here.</p><p>This option is optional. If you set this to an empty string, the destinator is used
						as originator (i.e. if "gernot" receives a voice call, the mail comes from "gernot" to
						"gernot").</p></dd></dl></div></div><div class="refsect1" title="The user sections"><a id="id2508975"></a><h2>The user sections</h2><div class="variablelist"><dl><dt><span class="term"><code class="option">voice_delay</code></span></dt><dd><p>User specific value for the corresponding global option</p></dd><dt><span class="term"><code class="option">announcement</code></span></dt><dd><p>User specific value for the corresponding global option</p></dd><dt><span class="term"><code class="option">record_length</code></span></dt><dd><p>User specific value for the corresponding global option</p></dd><dt><span class="term"><code class="option">record_silence_timeout</code></span></dt><dd><p>User specific value for the corresponding global option</p></dd><dt><span class="term"><code class="option">voice_email_from</code></span></dt><dd><p>User specific value for the corresponding global option</p></dd><dt><a id="voice_numbers"></a><span class="term"><code class="option">voice_numbers="&lt;number1&gt;,&lt;number2&gt;,..."</code></span></dt><dd><p>A list containing the numbers on which this user wants to receive incoming voice calls.
						These numbers are used to differ between users - so the same number must not appear in more
						than one user section! The numbers are separated with commas and <span class="emphasis"><em>no blanks</em></span>
						are allowed. The answering machine script does also automatic fax detection, so a fax can
						be sent to this number. When this list is set to <code class="literal">*</code>,
						<span class="emphasis"><em>all</em></span> incoming calls will be accepted for this user (use with care!).
						This is only useful for a setup with only one user which wants to receive any call.</p><p>If for any reason <span class="emphasis"><em>no destination</em></span> number is signalled for special MSNs
						(austrian telecom seems to do this for the main MSN, where it is called "Global Call"), you can
						use the special sign <code class="literal">-</code> which means "no destination number available".</p><p>This option is optional. If not set, the user won't receive voice calls.</p></dd><dt><a id="voice_email"></a><span class="term"><code class="option">voice_email=""</code></span></dt><dd><p>If given, this string indicates email-addresses where the received faxes and
						voice calls will be sent to. If it is empty, they will be sent to the user account on the
						system <span class="application">CapiSuite</span> is running on. More addresses are separated by commas. If you don't want emails
						to be sent at all, use the action option (see <code class="option">voice_action</code>).</p><p>This option is optional. If not set, the calls are mailed to the system account.</p></dd><dt><a id="voice_pin"></a><span class="term"><code class="option">pin="&lt;your PIN&gt;"</code></span></dt><dd><p>The answering machine also supports a remote inquiry function.
						This function is used by entering a PIN (Personal Identification Number)
						while the announcement is played. This PIN can be setup here.
						If you don't want to use the remote inquiry function, just use an empty
						PIN setting. The PIN doesn't have a maximal length - but perhaps you should
						not use 200 digits or you perhaps won't be able to remember them (I won't at least). ;-)</p><p>This option is optional. If not set, remote inquiry is disabled.</p></dd><dt><a id="voice_action"></a><span class="term"><code class="option">voice_action="MailAndSave"</code></span></dt><dd><p>Here you can define what action will be taken when a call is received.
							Currently, three possible actions are supported:
							</p><div class="variablelist"><dl><dt><span class="term"><code class="option">MailAndSave</code></span></dt><dd><p>The received call will be mailed to the given address (see
										<code class="option">voice_email</code> above) and saved to the <code class="filename">voice_user_dir</code>
										(see global options)
										</p></dd><dt><span class="term"><code class="option">SaveOnly</code></span></dt><dd><p>The call will be only saved to the <code class="filename">voice_user_dir</code>
									(see global options)</p></dd><dt><span class="term"><code class="option">None</code></span></dt><dd><p>Only the announcement will be played - no recording is done.</p></dd></dl></div><p>
						</p><p>This option is mandatory.</p></dd></dl></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="re03.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch01s03.html#script_config">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch01s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">fax.conf </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Using <span class="application">CapiSuite</span> together with the default scripts</td></tr></table></div></body></html>
